@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_LayoutMission.cshtml";
}

@{
    string Email = ViewBag.Email;
    string UserName = ViewBag.UserName;
    string UserId = ViewBag.UserId;
    long Id = long.Parse(UserId);
    var TotalRecords = ViewBag.totalRecords;
}

<partial name="FilterBarPartial" />

<span class="d-none" id="total-records">@TotalRecords</span>

<!-- PILLS -->
<div class="container my-4 filter-pills" id="filter-pills">
</div>

<!-- HEADING -->
<div class="container my-4">
    <div class="row">
        <div class="col-9">
            <h3 id="exploreText"></h3>
        </div>
        <div class="col-2 sort">
            <div class="dropdown">
                <div class="p-2 dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                     aria-expanded="false" style="border:1px solid black">
                    <span>Sort By</span>
                </div>
                <ul class="dropdown-menu" id="sortList">
                    <li value="1"><a class="dropdown-item" href="#">Newest</a></li>
                    <li value="2"><a class="dropdown-item" href="#">Oldest</a></li>
                    <li value="3"><a class="dropdown-item" href="#">Lowest available seats</a></li>
                    <li value="4"><a class="dropdown-item" href="#">Highest available seats</a></li>
                    <li value="5"><a class="dropdown-item" href="#">Sort by deadline</a></li>
                    <li value="6"><a class="dropdown-item" href="#">Sort by my favourite</a></li>
                </ul>
            </div>
        </div>
        <div class="col-1 d-flex">
            <button class="btn border-none view-btn" type="submit" id="grid-btn" onclick="show_grid()">
                <img src="~/images/grid.png" alt="">
            </button>
            <button class="btn border-none ms-2 view-btn" type="submit" id="list-btn" onclick="show_list()">
                <img src="~/images/list.png" alt="">
            </button>
        </div>
    </div>
</div>

<!-- GRID OR LIST -->
<!-- GRID PARTIAL -->
@*<div id="grid-view">
    <partial name="GridViewPartial" />
</div>*@

@*<partial name="_MissionDisplayPartial" />*@


<div class="partialViews"></div>

<div class="container NoMissionFound text-center mt-5">
    <h3>No Mission Found</h3>
</div>


<!-- LIST PARTIAL -->
@*<div id="list-view">
    <partial name="ListViewPartial" />
</div>*@

<center>
    <div class="container">
        <nav aria-label="Page navigation example" class="pagination justify-content-center">
            <ul class="pagination" id="pagination-container">
            </ul>
        </nav>
    </div>
</center>


<script>
    function show_grid() {
        document.getElementById("grid-view").style.display = "block";
        document.getElementById("list-view").style.display = "none";
        localStorage.setItem('view', 0);
    }

    function show_list() {
        document.getElementById("list-view").style.display = "block";
        document.getElementById("grid-view").style.display = "none";
        localStorage.setItem('view', 1);
    }
</script>
