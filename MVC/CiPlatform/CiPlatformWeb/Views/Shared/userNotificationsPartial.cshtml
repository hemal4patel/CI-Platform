@using CiPlatformWeb.Entities.DataModels;
@using CiPlatformWeb.Entities.ViewModels;

<div id="notificationUl">
    <div class="d-flex justify-content-between align-items-center px-2">
        <button class="border-none">
            <i class="bi bi-gear-fill notificationSettings" style="color: #757575; font-size: 20px;"></i>
        </button>
        <span style="font-size: 20px;">Notification</span>
        <button class="border-none">
            <a class="text-decoration-none text-dark clearAllNotifications">
                <span style="font-size: 16px;">Clear all</span>
            </a>
        </button>
    </div>

    <hr />
    <ul style="list-style: none; padding: 0%;">
        @if (Model.userNotifications.Count != 0)
        {
            @foreach (NotificationParams notification in Model.userNotifications)
            {
                <li class="clearNotification readNotification px-2" id="@notification.notificationId">
                    @if (notification.recommendedMissionId != 0)
                    {
                        <a class="text-decoration-none text-dark" href="@Url.Action("VolunteeringMission", "Mission", new {  MissionId = notification.recommendedMissionId})">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <img src="~/Upload/UserProfile/@notification.fromUserAvatar" class="notificationIcon" />
                                </div>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> @notification.fromUserName - Recommends this mission - @notification.recommendedMissionTitle </p>
                                </div>
                                <div>
                                    @if (notification.status == true)
                                    {
                                        <i class="bi bi-check-circle-fill" style="color: #757575; font-size: 13px;"></i>
                                    }
                                    else
                                    {
                                        <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                    }
                                </div>
                            </div>
                        </a>
                    }
                    else if (notification.recommendedStoryId != 0)
                    {
                        <a class="text-decoration-none text-dark" href="@Url.Action("StoryDetail", "Story", new {  MissionId = notification.recommendedStoryMissionId, UserId = notification.recommendedStoryUserId })">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <img src="~/Upload/UserProfile/@notification.fromUserAvatar" class="notificationIcon" />
                                </div>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> @notification.fromUserName - Recommends this story - @notification.recommendedStoryTitle </p>
                                </div>
                                <div>
                                    @if (notification.status == true)
                                    {
                                        <i class="bi bi-check-circle-fill" style="color: #757575; font-size: 13px;"></i>
                                    }
                                    else
                                    {
                                        <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                    }
                                </div>
                            </div>
                        </a>
                    }
                    else if (notification.timesheetId != 0)
                    {
                        <div class="d-flex justify-content-between">
                            @if (notification.timesheetApprovalStatus == "APPROVED")
                            {
                                <i class="bi bi-check2-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Timesheet has been approved for this mission: @notification.timesheetMissionTitle </p>
                                </div>
                            }
                            else
                            {
                                <i class="bi bi-x-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Timesheet has been declined for this mission: @notification.timesheetMissionTitle </p>
                                </div>
                            }
                            <div class="statusPill-@notification.notificationId">
                                @if (notification.status == true)
                                {
                                    <i class="bi bi-check-circle-fill" style="color: #757575; font-size: 13px;"></i>
                                }
                                else
                                {
                                    <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                }
                            </div>
                        </div>
                    }
                    else if (notification.commentId != 0)
                    {
                        <div class="d-flex justify-content-between">
                            @if (notification.commentApprovalStatus == "PUBLISHED")
                            {
                                <i class="bi bi-check2-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Comment has been approved for this mission: @notification.commentMissionTitle </p>
                                </div>
                            }
                            else
                            {
                                <i class="bi bi-x-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Comment has been declined for this mission: @notification.commentMissionTitle </p>
                                </div>
                            }
                            <div class="statusPill-@notification.notificationId">
                                @if (notification.status == true)
                                {
                                    <i class="bi bi-check-circle-fill" style="color: #757575; font-size: 13px;"></i>
                                }
                                else
                                {
                                    <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                }
                            </div>
                        </div>
                    }
                    else if (notification.storyId != 0)
                    {
                        <div class="d-flex justify-content-between">
                            @if (notification.storyapprovalStatus == "PUBLISHED")
                            {
                                <i class="bi bi-check2-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Story - @notification.approvedStoryTitle has been approved </p>
                                </div>
                            }
                            else
                            {
                                <i class="bi bi-x-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Story - @notification.approvedStoryTitle has been declined </p>
                                </div>
                            }
                            <div class="statusPill-@notification.notificationId">
                                @if (notification.status == true)
                                {
                                    <i class="bi bi-check-circle-fill" style="color: #757575; font-size: 13px;"></i>
                                }
                                else
                                {
                                    <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                }
                            </div>
                        </div>
                    }
                    else if (notification.newMissionId != 0)
                    {
                        <a class="text-decoration-none text-dark" href="@Url.Action("VolunteeringMission", "Mission", new {  MissionId = notification.newMissionId})">
                            <div class="d-flex justify-content-between">
                                <i class="bi bi-plus-circle"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> New mission - @notification.newMissionTitle </p>
                                </div>
                                <div>
                                    @if (notification.status == true)
                                    {
                                        <i class="bi bi-check-circle-fill" style="color: #414141; font-size: 13px;"></i>
                                    }
                                    else
                                    {
                                        <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                    }
                                </div>
                            </div>
                        </a>
                    }
                    else
                    {
                        <div class="d-flex justify-content-between">
                            @if (notification.applicationApprovalStatus == "APPROVE")
                            {
                                <i class="bi bi-check2-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Volunteering request has been approved for this mission: @notification.applicationMissionTitle </p>
                                </div>
                            }
                            else
                            {
                                <i class="bi bi-x-square" style="font-size: 38px; color: #757575;"></i>
                                <div class="ms-2 me-2">
                                    <p class="lh-sm" style="margin-bottom: 0; text-align: justify;"> Volunteering request has been declined for this mission: @notification.applicationMissionTitle </p>
                                </div>
                            }
                            <div class="statusPill-@notification.notificationId">
                                @if (notification.status == true)
                                {
                                    <i class="bi bi-check-circle-fill" style="color: #757575; font-size: 13px;"></i>
                                }
                                else
                                {
                                    <i class="bi bi-circle-fill" style="color: #f88634; font-size: 13px;"></i>
                                }
                            </div>
                        </div>
                    }
                </li>
                <hr />
            }
        }
        else
        {
            <img src="~/images/bell-big.png" class="mx-auto d-block mt-4" />
            <li class="text-center mt-2" style="font-size: 21px;">You do not have any new notifications</li>
        }
    </ul>
</div>

<div id="settingsUl" style="display: none;">
    <div class="d-flex justify-content-center align-items-center px-2">
        <span style="font-size: 20px;">Notification Settings</span>
    </div>

    <hr class="mb-0" />
    <div class="d-flex justify-content-start align-items-center bg-dark-subtle" style="background-color: #e9ecef">
        <span style="font-size: 17px;" class="py-1 px-2">Get a notification for</span>
    </div>

    <hr class="mt-0" />
    <div class="allSettingsDiv px-2" style="font-size: 17px;">
        <div class="form-check d-flex justify-content-between p-0">
            <label class="form-check-label">Recommended missions</label>
            <input type="checkbox" value="1" class="form-check-input">
        </div>
        <div class="form-check d-flex justify-content-between p-0 py-1">
            <label class="form-check-label">Recommended stories</label>
            <input type="checkbox" value="2" class="form-check-input">
        </div>
        <div class="form-check d-flex justify-content-between p-0 py-1">
            <label class="form-check-label">Volunteering timesheets</label>
            <input type="checkbox" value="3" class="form-check-input">
        </div>
        <div class="form-check d-flex justify-content-between p-0 py-1">
            <label class="form-check-label">My stories</label>
            <input type="checkbox" value="4" class="form-check-input">
        </div>
        <div class="form-check d-flex justify-content-between p-0 py-1">
            <label class="form-check-label">My applications</label>
            <input type="checkbox" value="5" class="form-check-input">
        </div>
        <div class="form-check d-flex justify-content-between p-0 py-1">
            <label class="form-check-label">New missions</label>
            <input type="checkbox" value="6" class="form-check-input">
        </div>
        <div class="form-check d-flex justify-content-between p-0 py-1">
            <label class="form-check-label">My comments</label>
            <input type="checkbox" value="7" class="form-check-input">
        </div>
    </div>

    <hr />
    <div class="d-flex justify-content-center align-items-center mb-2">
        <button type="button" class="btn btn-outline-secondary rounded-pill cancelNotification cancel-btn cancelButton mx-1">Cancel</button>
        <button type="submit" id="" class="btn card-button rounded-pill submit-btn mx-1">Submit</button>
    </div>
</div>
